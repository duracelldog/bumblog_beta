{"ast":null,"code":"var _jsxFileName = \"/Users/beomgeunshin/Desktop/bumblog/src/components/board/BoardView.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './BoardView.scss';\nimport axios from 'axios';\nimport { searchToJson } from '../../utils';\nimport { useHistory } from 'react-router-dom';\nimport useModal from '../../hooks/useModal';\n\nfunction BoardView(urlParams) {\n  const {\n    onOpenConfirmModal,\n    onCloseModal\n  } = useModal();\n  const [listData, setListData] = useState({\n    _id: '',\n    subTitle: '',\n    title: '',\n    description: '',\n    writer: ''\n  });\n  let history = useHistory();\n  useEffect(() => {\n    console.log('useEffect');\n    const searchVal = urlParams.location.search;\n    const searchData = searchToJson(searchVal);\n    console.log('searchData', searchData);\n    axios({\n      method: 'get',\n      url: '/api/board/list',\n      params: searchData\n    }).then(res => {\n      console.log('res', res.data[0]);\n\n      if (res.data[0]) {\n        setListData(res.data[0]);\n      }\n    });\n  }, []);\n\n  const handleDelete = () => {\n    onOpenConfirmModal({\n      status: true,\n      title: '정말 삭제하시겠습니까?',\n      desc: '삭제한 데이터는 복원할 수 없습니다.',\n      confirm: {\n        isShow: true,\n        func: () => {\n          axios({\n            method: 'delete',\n            url: '/api/board/list',\n            data: listData\n          }).then(res => {\n            console.log('deleteRes', res.data[0]);\n            onCloseModal();\n            history.push('/board');\n          });\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"bb-board-view__hero-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bb-board-view__hero-section-title-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, listData === null || listData === void 0 ? void 0 : listData.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bb-board-view__subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, listData === null || listData === void 0 ? void 0 : listData.subTitle))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"bb-board-view__article-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"article\", {\n    className: \"bb-board-view__article tui-editor-contents\",\n    dangerouslySetInnerHTML: {\n      __html: listData.description\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"bb-board-view__update-btns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/board/write?_id=${listData._id === null ? '' : listData._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"\\uC218\\uC815\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"\\uC0AD\\uC81C\")))));\n}\n\nexport default BoardView;","map":{"version":3,"sources":["/Users/beomgeunshin/Desktop/bumblog/src/components/board/BoardView.tsx"],"names":["React","useEffect","useState","Link","axios","searchToJson","useHistory","useModal","BoardView","urlParams","onOpenConfirmModal","onCloseModal","listData","setListData","_id","subTitle","title","description","writer","history","console","log","searchVal","location","search","searchData","method","url","params","then","res","data","handleDelete","status","desc","confirm","isShow","func","push","__html"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport './BoardView.scss';\nimport axios from 'axios';\nimport {searchToJson} from '../../utils';\nimport {boardListType} from './BoardHome';\nimport {useHistory} from 'react-router-dom';\n\nimport useModal from '../../hooks/useModal';\n\nfunction BoardView(urlParams: any){\n\n    const {onOpenConfirmModal, onCloseModal} = useModal();\n\n    const [listData, setListData] = useState<boardListType>({\n        _id: '',\n        subTitle: '',\n        title: '',\n        description: '',\n        writer: ''\n    });\n    let history = useHistory();\n    \n    useEffect(()=>{\n        console.log('useEffect');\n        const searchVal = urlParams.location.search;\n        const searchData = searchToJson(searchVal);\n\n        console.log('searchData', searchData);\n       \n        axios({\n            method: 'get',\n            url: '/api/board/list',\n            params: searchData\n        }).then((res) =>{\n            console.log('res', res.data[0]);\n            if(res.data[0]){\n                setListData(res.data[0]);\n            }\n        });\n    }, []);\n\n\n    const handleDelete = () =>{\n\n        onOpenConfirmModal({\n            status: true,\n            title: '정말 삭제하시겠습니까?',\n            desc: '삭제한 데이터는 복원할 수 없습니다.',\n            confirm: {\n                isShow: true,\n                func: () => {\n                    axios({\n                        method: 'delete',\n                        url: '/api/board/list',\n                        data: listData\n                    }).then((res) =>{\n                        console.log('deleteRes', res.data[0]);\n                        onCloseModal();\n                        history.push('/board');\n                    });\n                }\n            }\n        });\n\n        \n        \n    }\n\n\n    return (\n        <main className=\"main\">\n            <section className=\"bb-board-view__hero-section\">\n                <div className=\"bb-board-view__hero-section-title-wrapper\">\n                    <h1>{listData?.title}</h1>\n                    <div className=\"bb-board-view__subtitle\">\n                        {listData?.subTitle}\n                    </div>\n                </div>\n            </section>\n            <section className=\"bb-board-view__article-section\">\n                <article className=\"bb-board-view__article tui-editor-contents\" dangerouslySetInnerHTML={{__html: listData.description}}></article>\n                <ul className=\"bb-board-view__update-btns\">\n                    <li>\n                        <button>\n                            <Link to={`/board/write?_id=${listData._id === null ? '' : listData._id}`}>수정</Link>\n                        </button>\n                    </li>\n                    <li><button onClick={handleDelete}>삭제</button></li>\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default BoardView;"]},"metadata":{},"sourceType":"module"}