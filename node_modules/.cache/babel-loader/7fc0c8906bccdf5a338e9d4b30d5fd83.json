{"ast":null,"code":"import _slicedToArray from\"/Users/beomgeunshin/Desktop/bumblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import'./BoardView.scss';import axios from'axios';import{searchToJson}from'../../utils';import{useHistory}from'react-router-dom';import useModal from'../../hooks/useModal';function BoardView(urlParams){var _useModal=useModal(),onOpenConfirmModal=_useModal.onOpenConfirmModal,onCloseModal=_useModal.onCloseModal;var _useState=useState({_id:'',subTitle:'',title:'',description:'',writer:''}),_useState2=_slicedToArray(_useState,2),listData=_useState2[0],setListData=_useState2[1];var history=useHistory();useEffect(function(){console.log('useEffect');var searchVal=urlParams.location.search;var searchData=searchToJson(searchVal);console.log('searchData',searchData);axios({method:'get',url:'/api/board/list',params:searchData}).then(function(res){console.log('res',res.data[0]);if(res.data[0]){setListData(res.data[0]);}});},[]);var handleDelete=function handleDelete(){onOpenConfirmModal({status:true,title:'정말 삭제하시겠습니까?',desc:'삭제한 데이터는 복원할 수 없습니다.',confirm:{isShow:true,func:function func(){axios({method:'delete',url:'/api/board/list',data:listData}).then(function(res){console.log('deleteRes',res.data[0]);onCloseModal();history.push('/board');});}}});};return/*#__PURE__*/React.createElement(\"main\",{className:\"main\"},/*#__PURE__*/React.createElement(\"section\",{className:\"bb-board-view__hero-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bb-board-view__hero-section-title-wrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,listData===null||listData===void 0?void 0:listData.title),/*#__PURE__*/React.createElement(\"div\",{className:\"bb-board-view__subtitle\"},listData===null||listData===void 0?void 0:listData.subTitle))),/*#__PURE__*/React.createElement(\"section\",{className:\"bb-board-view__article-section\"},/*#__PURE__*/React.createElement(\"article\",{className:\"bb-board-view__article tui-editor-contents\",dangerouslySetInnerHTML:{__html:listData.description}}),/*#__PURE__*/React.createElement(\"ul\",{className:\"bb-board-view__update-btns\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",null,/*#__PURE__*/React.createElement(Link,{to:\"/board/write?_id=\".concat(listData._id===null?'':listData._id)},\"\\uC218\\uC815\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:handleDelete},\"\\uC0AD\\uC81C\")))));}export default BoardView;","map":{"version":3,"sources":["/Users/beomgeunshin/Desktop/bumblog/src/components/board/BoardView.tsx"],"names":["React","useEffect","useState","Link","axios","searchToJson","useHistory","useModal","BoardView","urlParams","onOpenConfirmModal","onCloseModal","_id","subTitle","title","description","writer","listData","setListData","history","console","log","searchVal","location","search","searchData","method","url","params","then","res","data","handleDelete","status","desc","confirm","isShow","func","push","__html"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport './BoardView.scss';\nimport axios from 'axios';\nimport {searchToJson} from '../../utils';\nimport {boardListType} from './BoardHome';\nimport {useHistory} from 'react-router-dom';\n\nimport useModal from '../../hooks/useModal';\n\nfunction BoardView(urlParams: any){\n\n    const {onOpenConfirmModal, onCloseModal} = useModal();\n\n    const [listData, setListData] = useState<boardListType>({\n        _id: '',\n        subTitle: '',\n        title: '',\n        description: '',\n        writer: ''\n    });\n    let history = useHistory();\n    \n    useEffect(()=>{\n        console.log('useEffect');\n        const searchVal = urlParams.location.search;\n        const searchData = searchToJson(searchVal);\n\n        console.log('searchData', searchData);\n       \n        axios({\n            method: 'get',\n            url: '/api/board/list',\n            params: searchData\n        }).then((res) =>{\n            console.log('res', res.data[0]);\n            if(res.data[0]){\n                setListData(res.data[0]);\n            }\n        });\n    }, []);\n\n\n    const handleDelete = () =>{\n\n        onOpenConfirmModal({\n            status: true,\n            title: '정말 삭제하시겠습니까?',\n            desc: '삭제한 데이터는 복원할 수 없습니다.',\n            confirm: {\n                isShow: true,\n                func: () => {\n                    axios({\n                        method: 'delete',\n                        url: '/api/board/list',\n                        data: listData\n                    }).then((res) =>{\n                        console.log('deleteRes', res.data[0]);\n                        onCloseModal();\n                        history.push('/board');\n                    });\n                }\n            }\n        });\n\n        \n        \n    }\n\n\n    return (\n        <main className=\"main\">\n            <section className=\"bb-board-view__hero-section\">\n                <div className=\"bb-board-view__hero-section-title-wrapper\">\n                    <h1>{listData?.title}</h1>\n                    <div className=\"bb-board-view__subtitle\">\n                        {listData?.subTitle}\n                    </div>\n                </div>\n            </section>\n            <section className=\"bb-board-view__article-section\">\n                <article className=\"bb-board-view__article tui-editor-contents\" dangerouslySetInnerHTML={{__html: listData.description}}></article>\n                <ul className=\"bb-board-view__update-btns\">\n                    <li>\n                        <button>\n                            <Link to={`/board/write?_id=${listData._id === null ? '' : listData._id}`}>수정</Link>\n                        </button>\n                    </li>\n                    <li><button onClick={handleDelete}>삭제</button></li>\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default BoardView;"]},"metadata":{},"sourceType":"module"}